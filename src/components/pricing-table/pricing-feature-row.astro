---
import Tooltip from '../tooltip/tooltip.astro';
import { tv } from 'tailwind-variants';
import Icon from '../utility/icon';

const {
  feature,
  description,
  info,
  included,
  alternate = false,
  icon = false
} = Astro.props;

const container = tv({
  base: 'text-gray-600 border-gray-300 flex h-12 items-center justify-center gap-2 px-2 text-center transition-all dark:text-gray-400 dark:border-gray-600',
  variants: {
    alternate: {
      true: 'bg-gray-100 group-hover:bg-gray-200 dark:text-white dark:bg-gray-900 dark:group-hover:bg-gray-950',
      false:
        'bg-gray-200 group-hover:bg-gray-300 dark:text-white dark:bg-gray-800 dark:group-hover:bg-gray-900'
    }
  }
});

const containerStyle = container({ alternate });
---

<div class={containerStyle}>
  <div class="lg:hidden">{description}</div>
  {feature}
  {info}
  {
    icon ? (
      <Tooltip class="align-top">
        {included ? (
          <Icon
            slot="trigger"
            icon="ph:check-circle-fill"
            title="Included in price."
            className="text-green-600 h-6 w-6 fill-green-600"
          />
        ) : (
          <Icon
            slot="trigger"
            icon="ph:x-circle-fill"
            title="Not included in price."
            className="text-red-600 fill-red-600"
          />
        )}

        <span slot="content">
          {included ? 'Included in price.' : 'Not included in price.'}
        </span>
      </Tooltip>
    ) : null
  }
</div>
