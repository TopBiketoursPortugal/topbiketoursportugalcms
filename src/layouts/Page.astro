---
import Heading from 'src/components/typography/heading.astro';
import PageHelper from '../shared/astro/page.astro';
import Layout, { type LayoutProps } from './Layout.astro';
import type { Except } from 'type-fest';

type Props = {
  frontmatter: {
    content_blocks?: any[];
    page_size?: number;
  } & Except<LayoutProps, 'class'>;
  class?: string;
  showPageTitle?: boolean;
};

const { frontmatter, class: className, showPageTitle = false } = Astro.props;
const { content_blocks = [] } = frontmatter;
---

<Layout {...frontmatter} class={className}>
  {
    showPageTitle ? (
      <Heading as="h1" class="px-6 text-4xl font-bold capitalize">
        {frontmatter.title}
      </Heading>
    ) : null
  }
  <slot />
  <PageHelper bookshop:live contentBlocks={content_blocks} />
</Layout>
